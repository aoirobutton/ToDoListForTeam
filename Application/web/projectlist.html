<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <title>プロジェクト一覧</title>
        <link rel="STYLESHEET" href="css/todo.css" type="text/css">
        <script type="text/javascript" src="dwr/engine.js"></script>
        <script type="text/javascript" src="dwr/util.js"></script>
        <script type="text/javascript" src="dwr/interface/DisplayProjectController.js"></script>
        <script type="text/javascript" src="dwr/interface/LoginController.js"></script>
        <script type="text/javascript" src="js/jquery-1.7.2.min.js"></script>
        <script>
            function displayProjectList(){
                DisplayProjectController.getProjectList({
                    callback: function(projectList){
                        var list = ""
                        for(var i in projectList){
                            project = projectList[i];
                            list = list + '<tr>';
                            list = list + '<td><font color=\'black\' onmouseout="this.color=\'black\'" onmouseover="this.color=\'blue\'"><a target=\'_top\' href=\'projectDetail.html?project='+project.project+'\'>'+project.project+'</a></font></td>';
                            list = list + '<td>' + project.member + '</td>'; 
                            //list = list + ' <form action="edit.html"><td align="center"><input type="button" value="編集"></td></form><form action="delete.html"><td align="center"><input type="button" value="削除" onclick="deleteTicket(\''+ticket.ticket+'\',\''+ticket.responsible+'\',\''+ticket.project+'\')"></td></form>';
                            list = list + ' <form action="edit.html"><td align="center"><input type="button" value="編集"></td></form><form action="delete.html"><td align="center"><input type="button" value="削除" onclick=""></td></form>';
                            list = list + '<tr>';
                        }
                        //document.write(list);
                        $('#projectList').html(list);                        
                    }
                });
            }
            
            function reload(){
                displayProjectList();
            }
            
            function jumpDitail(project){
                LoginController.getLoginUser({
                   callback: function(loginUser){
                        location.href="projectDetail.html?project="+project;
                        console.log("ok");
                   } 
                });
            }
        </script>
    </head>
    <body onload="reload()">
        <table border="0" width="90%" class="list">
            <thead>                
            <tr>
                <th>
                    プロジェクト名
                </th>
                <th>
                    メンバー
                </th>
                <th colspan="3">
                操作
                </th>
            </tr>
            </thead>
            <tbody id="projectList">
            </tbody>
            <!--
            <tr>
                <td>
                    EventSpiral
                </td>
                <td>
                    中島
                </td>
                <td>
                    坂井、松下、伊佐
                </td>
                <td>
                    YYYY/MM/DD
                </td>
                <td align="center">
                    <a href="projectResiger.html" target="_top">
                        <input type="submit" value="編集">
                    </a>
                </td>
                <form action="delete.html">
                    <td align="center">
                        <input type="submit" value="削除">
                    </td>
                </form>
            </tr>
            -->
        </table>
    </body>
</html>
